<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" media="screen" href="options.css">
</head>

<body>
  <hr>
  <h1>Obsidian Vault Name</H1>
  <p>The vault is a folder on your local file system where Obsidian stores your notes. 
  The vault name is chosen by the user when they first create it.
  You will need to know the name of the vault where you want to store emails
  that you clip. If you use more than one vault, make sure you enter the name of
  the vault you want to use for clipping emails.
  <p>If you are unsure of your vault name or have not set up a vault on your local machine yet,
  go to the <a href="https://help.obsidian.md">Obsidian Help</a> page for details.
  
  <form>
    <label><b>Store clipped emails in this Obsidian vault</b></label>
    <input type="text" id="obsidianVaultName">
    <button id="submit-obsidianVaultName">Save</button>
    <button id="default-obsidianVaultName">Restore Default</button>
  </form>
  
  <hr>
  <h1>Note Folder Path (Optional Parameter)</h1>
  <p>This optional parameter allows the user to specifiy a location within the
  vault to place clipped emails. Folders name are separated by slashes, so
  setting this parameter to 'business/important emails" would place
  your clipped emails into the 'important emails' folder inside the vault's
  top level 'business' folder.
  <p>If this parameter is left blank, new notes in Obsidian will appear
  in the location indicated in 'Settings->Files & Links->Default location for new notes'.
  By default, this is usually the most recent folder in use in the Obsidian app.
  
  <form>
    <label><b>Store clipped emails in this folder in the Obsidian vault (optional)</b></label>
    <input type="text" id="noteFolderPath">
    <button id="submit-noteFolderPath">Save</button>
    <button id="default-noteFolderPath">Restore Default</button>
  </form>




  <h1>Message Attachments (Optional Feature)</h1>
  <p>This optional feature allows saving files attached to an email message Obsidian.
  <p>To use this feature, set the options below and then perform the steps described in 
  "Attachment Permissions."
  
  <h2>Attachment Options</h2>
  <p>Enable saving email attachments with the option below.
  
  <form> 
    <label><b>Enable saving of email attachments</b></label>
    <input type="checkbox" id="attachmentSaveEnabled">
    <br>
    <button id="submit-attachmentSaveEnabled">Save</button>
    <button id="default-attachmentSaveEnabled">Restore Default</button>
  </form>  
  
  
  <h2>Attachment Save Folder</h2>
  This parameter tells ObsidianClipper the location within the
  vault where you will place clipped emails, relative to the Obsidian vault's root directory.
  For example, setting this parameter to 'business/important emails/_resources' would place
  your clipped emails into a '_resources' folder beneath 'business/important emails'
  inside your vault. In this example, the location is beneath the Note Folder Path described above,
  but you can place the attachment folder anywhere in your vault you wish.
  <p>Links to the files will appear in list form in your note when you use the _MSGATTACHMENTLIST_
  field in the Note Content Template as described below.
  
  <form>
    <label><b>Store attachments for clipped emails in this folder in the Obsidian vault</b></label>
    <input type="text" id="attachmentFolderPath">
    <button id="submit-attachmentFolderPath">Save</button>
    <button id="default-attachmentFolderPath">Restore Default</button>
  </form>
  
  <h2>Attachment Permissions</h2>
  In order to save the attachment files from emails, you will need to set the default save location
  for the Thunderbird application. Do that by following the steps below.
  <ul>
    <li>In the main Thunderbird window, click on the 'Tools' window and then the 'Settings' option. This will open the Settings Tab.</li>
    <li>From the Settings Tab, make sure the 'General' selector is highlighted on the left side. Then scroll down to the 
        'Files & Attachments' section. You could also type 'Files & Settings' into the search box at the right top of the Settings tab
        to find this setting.</li>
    <li>Click on the 'Save Files To' option and then click on the 'Browse' button.</li>
    <li>Navigate to the folder for saving attachments recorded above. In the example above, this would be the 'business/important emails/_resources' folder.</li>
    <li>Alternately, if you regularly save attachment files to other locations in the course of your normal workflow and do not want those
        other files saved into your Obsidian vault, you could instead click the 
        'Always ask me where to save files' option. In doing so, though, you will need to manually navigate to the Attachment Save Folder
        whenever clipping an email with any attachments.</li>
  </ul>
  Note that it is important to correctly set both Thunderbird's file save location and the path specified in the 'Attachment Save Folder'
  section above. Incorrectly setting them will cause the attachment links in the _MSGATTACHMENTLIST_ field to point at the
  wrong location.
  <p>For more details and a detailed guide to setting up attachmetns for ObsidianClipper, please visit the 
    <a href="https://github.com/KNHaw/ThunderbirdObsidianClipper/blob/main/docs/user-guide.md">online User Guide</a>.
  
  <hr>
  <h1>Note Filename and Content Templates</h1>
  <p>Indicate how a clipped email note's filename should appear and how the actual 
  note content should be formatted. Create a template using the following placeholders 
  for message and time information:
  <ul> 
  <li>Note Information:
        <ul>
        <li><b>_NOTEDATE</b> - The current date. Fields from the note date are inserted with these other symbols:</li>
            <ul><li><b>_NOTEYEAR</b> for a 4 digit year, <b>_NOTEMONTH</b> for a 01-12 month, or <b>_NOTEDAY</b> for a 00-31 day of the month.</li></ul>
        <li><b>_NOTETIME</b> - The current time. Fields from the note time are inserted with these symbols:</li>
            <ul><li><b>_NOTEHOUR</b> for the 00-23 hour, <b>_NOTEMIN</b> for a 00-59 minute, or <b>_NOTESEC</b> for a 00-59 second.</li></ul>
        </ul>
  </li>
  <li>Message Information:
        <ul>
        <li><b>_MSGDATE</b> - The message date. Fields from the message date are inserted with these other symbols:</li>
            <ul><li><b>_MSGYEAR</b> for a 4 digit year, <b>_MSGMONTH</b> for a 01-12 month, or <b>_MSGDAY</b> for a 00-31 day of the month.</li></ul>
        <li><b>_MSGTIME</b> - The message time. Fields from the message time are inserted with these symbols:</li>
            <ul><li><b>_MSGHOUR</b> for the 00-23 hour, <b>_MSGMIN</b> for a 00-59 minute, or <b>_MSGSEC</b> for a 00-59 second.</li></ul>
        <li><b>_MSGSUBJECT</b> - The message subject.</li>
        <li><b>_MSGRECIPENTS</b> - List of all message recipients (in the email "to" field).</li>
            <ul>
            <li>Similarly, <b>_MSGCC</b> will list the addresses from the "cc" field and <b>_MSGBCC</b> will list the addresses from "bcc"</li>
            <li>Additionally, the <b>_MSGRECIPENTS_YAML</b>, <b>_MSGCC_YAML</b>, and <b>_MSGBCC_YAML</b> placeholders provide the same data in a 
                format that can be used in Obsidian <a href-"https://help.obsidian.md/Editing+and+formatting/Properties">frontmatter properties.</a>
                See the <a href="https://github.com/KNHaw/ThunderbirdObsidianClipper/blob/main/docs/user-guide.md">User Guide</a> for an example.</li>
            </ul>
        <li><b>_MSGAUTHOR</b> - The message author.</li>
        <li><b>_MSGTAGSLIST</b> - Include <a href="https://support.mozilla.org/en-US/kb/message-tags">Email catagory tags</a> in a hashtag spaced list. See below for color coding options.</li>
        <li><b>_MSGATTACHMENTLIST</b> - A markdown list of links to message attachments saved to Obsidian. If no message attachments were saved, returns the string "none."</li>
        <li><b>_MSGIDURI</b> - A URI that can be clicked to open the message.</li>
            <ul><li>For example, '[click here to open](_MSGURI)' will create a link in your note that when clicked will open the email in your client.</li></ul>
        <li><b>_MSGCONTENT</b> - The actual text content of the message.</li>
        </ul>
  </li>
  </ul>
  
  <p>For example, if you use the filename template of 'Email (_MSGDATE) : _MSGSUBJECT', your clipped notes will
  have titles of the form 'Email (02⧸30⧸2023) ꞉ Single WOmbats in your area whant to Chat!' (assuming, of course,
  that single wombats in your area reached out to you to chat on February 30th, 2023).
  <p>Be sure to include the leading underscore ("_") and all capital letters ("_MSGAUTHOR") 
  when using any of the above placeholders in your template.
  
  <h2>Filename Template</h2>
  
  <form>
    <label><b>Use the filename template below</b></label>
    <input type="text" id="noteFilenameTemplate">
    <button id="submit-noteFilenameTemplate">Save</button>
    <button id="default-noteFilenameTemplate">Restore Default</button>
  </form>
  
  <hr>
  <p>
  <h2>Note Content Template</h2>
  <form>
  <label><b>Use the note content template below</b></label>
  <textarea id="noteContentTemplate">
  </textarea>
    <button id="submit-noteContentTemplate">Save</button>
    <button id="default-noteContentTemplate">Restore Default</button>
  </form>
  
  <hr>
  <h1>Filename Correction</h1>
  <p>Obsidian does not support a number of characters in note filenames
  because they might cause problems with the underlying operating
  system's file system ('|', '/', '\', '"', '<', '>', '*', ':', '?').
  Additionally, there are other characters that might be problematic
  based on your operating system or personal preferences. Select from
  the below options to customize how filenames for notes should be
  formatted.
  <p>None of this applies to the actual content of a note, just the name of the note in the Obsidian vault.
  
  <h2>Additional Disallowed Characters</h2>
  <form>
    <label><b>In addition to the characters mentioned above, also delete or replace
  these characters. (This does not include spaces - that is a special case below).</b></label>
    <input type="text" id="additionalDisallowedChars">
    <button id="submit-additionalDisallowedChars">Save</button>
    <button id="default-additionalDisallowedChars">Restore Default</button>
  </form>
  
  <h2>Delete or Replace Disallowed Characters</h2>
  <p>When a disallowed character defined above is found in a note's file name,
  this add-on can either replace it with a different character or delete it entirely.
  In the box below, you can specify tht character. If the box is left empty, disallowed
  characters are instead deleted.
  
  <form>
  <label><b>Replace disallowed characters with this character:</b></label>
  <input type="text" id="noteNameReplaceChar" maxlength="1" size="1" style="width:30px">
    <br>
    <button id="submit-noteNameReplaceChar">Save</button>
    <button id="default-noteNameReplaceChar">Restore Default</button>
  <form>
  
  <h2>Use Unicode Equivilent characters</h2>
  <p>Some characters have Unicode equivilents that can be used to substitute them.
  For example, the question mark ('?') could be replaced by the Unicode
  glottal stop character ('&#x0294;'). When this add-on finds a disallowed
  character in a note title, it can either delete or replace the character as chosen 
  above or substitute one of these equivilents.
  <p>If you would like the add-on to try to find a Unicode equilient character, leave the selection below set.
  Windows and Linux can usually handle this substitution without
  difficulty, but if you are not sure about your system or are having problems with
  Unicode characters in your Obsidian vault you may want to instead uncheck the selection below.
  
  <form> 
    <label><b>Use Unicode equivilents when possible</b></label>
    <input type="checkbox" id="unicodeCharSub">
    <br>
    <button id="submit-unicodeCharSub">Save</button>
    <button id="default-unicodeCharSub">Restore Default</button>
  </form>
  
  <h2>Spaces in Filenames</h2>
  <p>Spaces in filenames are a special case and some users prefer to replace them with
  underscore characters ('_'). Use the checkbox below to customize how this add-on
  handles spaces in filenames.
  <form> 
    <label><b>Replace spaces in filenames with underscores</b></label>
    <input type="checkbox" id="subSpacesWithUnderscores">
    <br>
    <button id="submit-subSpacesWithUnderscores">Save</button>
    <button id="default-subSpacesWithUnderscores">Restore Default</button>
  </form>
  
  

  <hr>
  <h1>Maximum Clipped Email Note Size</h1>
  <p>To conserve space in your vault or to resolve certain technical problems, you may want
  to limit the size of the emails clipped to Obsidian. If you set a limit below, Obsidian
  Clipper will crop an email to the size you choose. To activate this feature, enter
  the maximum email size. A nonnumeric value (such as the text "disabled") disables this feature.
  <form>
  <label><b>Maximum email size in bytes:</b></label>
  <input type="text" id="maxEmailSize" maxlength="15" size="15" style="width:75px">
    <br>
    <button id="submit-maxEmailSize">Save</button>
    <button id="default-maxEmailSize">Restore Default</button>
  <form>
  
    
  
  <hr>
  <h1>Color Coded Note Tags (Optional Feature)</h1>
  <p>The _MSGTAGSLIST placeholder described above tells the add-on
  to insert any category tags that are attached to the clipped email by Thuderbird
  into the clipped note. Optionally, you can make the colors of 
  these tags match the color used in Thunderbird by adding the text below as a CSS
  snippet in Obsidian. You can learn more by reading about <a href="https://help.obsidian.md/Extending+Obsidian/CSS+snippets">
  CSS snippets in Obsidian</a> or by using the step by step instructions
  in the User Guide for this add-on,
  linked below.
  
  <form>
      <label><b>Cut and paste this text into an Obsidian CSS snippet to have colored tags</b></label>
      <textarea id="colorCodedTagsCss" readonly>
      </textarea>
  </form>
  
  <h1>Getting Help</h1>
  <p>If you are experiencing a problem with the add-on, please visit the 
  add-on <a href="https://github.com/KNHaw/ThunderbirdObsidianClipper">homepage</a>
  and check the <a href="https://github.com/KNHaw/ThunderbirdObsidianClipper/blob/main/docs/user-guide.md#Troubleshooting">Troubleshooting section of the User Guide</a>.
  If this does not help, please let the development team know about your problem by <a href="https://github.com/KNHaw/ThunderbirdObsidianClipper/issues">filing an issue about it</a>.
  
  
  <font color="white">GNU Terry Pratchett</font> <!-- If you know what this means, then you know what this means. -->

  
  <script src="options.js"></script>
</body>

</html>